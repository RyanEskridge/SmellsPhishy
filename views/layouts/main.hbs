<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>{{title}} - Smells Phishy</title>
		<link rel="icon" type="image/x-icon" href="/img/fish.ico" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
		<link rel="stylesheet" href="/css/style.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	</head>
	<body>
		<main class="d-flex flex-nowrap">
			<div id="sidebar" class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark" style="width: 280px; min-height: 100vh; position: fixed;">
				<a id="brand" href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none saira-condensed-regular" style="width: 100%;">
					<img src="/img/clown-fish.png" height="24" width="24" style="margin-right: 5px;" />
					SmellsPhishy
					<span href="#" id="user-button-container" style="position: absolute; left: 220px;"></span>
				</a>
				<hr />
				<ul class="nav nav-pills flex-column mb-auto">
					<li class="nav-item">
						<a href="/" class="nav-link text-white" aria-current="page"><i class="bi bi-graph-up nav-icon"></i> &nbsp;Dashboard</a>
					</li>
					<li class="mb-1 text-white">
						<button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed text-white" data-bs-toggle="collapse" data-bs-target="#campaigns-collapse" aria-expanded="false">
							<i class="bi bi-diagram-3 nav-icon"></i>Campaigns<i class="bi bi-chevron-down"></i>
						</button>
						<div class="collapse" id="campaigns-collapse" style="">
							<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small text-white">
								<li><a href="/campaigns" class="nav-link text-white">Campaigns</a></li>
								<li><a href="/campaigns/new" class="nav-link text-white">Create new</a></li>
							</ul>
						</div>
					</li>
					<li class="mb-1 text-white">
						<button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed text-white" data-bs-toggle="collapse" data-bs-target="#templates-collapse" aria-expanded="false">
							<i class="bi bi-envelope-paper nav-icon"></i>Templates<i class="bi bi-chevron-down d-flex justify-content-end"></i>
						</button>
						<div class="collapse" id="templates-collapse" style="">
							<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small text-white">
								<li><a href="/templates/new" class="nav-link text-white">Create new</a></li>
								<li><a href="/templates" class="nav-link text-white">Templates</a></li>
								<li><a href="/templates/testing-tool" class="nav-link text-white">Testing tool</a></li>
							</ul>
						</div>
					</li>
					<li class="mb-1 text-white">
						<button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed text-white" data-bs-toggle="collapse" data-bs-target="#users-collapse" aria-expanded="false">
							<i class="bi bi-people nav-icon"></i>Targets<i class="bi bi-chevron-down"></i>
						</button>
						<div class="collapse" id="users-collapse" style="">
							<ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small text-white">
								<li><a href="/targets" class="nav-link text-white">Targets</a></li>
								<li><a href="/targets/lists" class="nav-link text-white">Lists</a></li>
							</ul>
						</div>
					</li>
					<li class="nav-item">
						<a href="/settings" class="nav-link text-white" aria-current="page"><i class="bi bi-gear nav-icon"></i> &nbsp;Settings</a>
					</li>
				</ul>
				<hr />
			</div>
			<div class="container-fluid p-4" style="margin-left: 300px;">
				{{{body}}}
			</div>
		</main>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
		<!-- Initialize Clerk with your Clerk Publishable key and Frontend API URL -->
		<script
			async
			crossorigin="anonymous"
			data-clerk-publishable-key="pk_test_Y2hhbXBpb24tcGVnYXN1cy00OC5jbGVyay5hY2NvdW50cy5kZXYk"
			src="https://champion-pegasus-48.clerk.accounts.dev/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
			type="text/javascript"
		></script>
		<script>
		window.addEventListener('load', async function () { 
			await Clerk.load() 
			if (Clerk.user) { 
			document.getElementById('user-button-container').innerHTML = ` <div id="user-button"></div> `;
				const userButtonDiv = document.getElementById('user-button');
				Clerk.mountUserButton(userButtonDiv);
			} 
			else {
				document.getElementById('app').innerHTML = ` <div id="sign-in"></div> `;
				const signInDiv = document.getElementById('sign-in');
				Clerk.mountSignIn(signInDiv);
			} 
      	})
		</script>
	</body>
</html>
